@model IEnumerable<asm1_c_sharp.Models.Product>

@{
    ViewData["Title"] = "Product";
}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

<style>
    .product-image {
        max-width: 100px;
        max-height: 100px;
    }

    .product-status {
        font-weight: bold;
        text-transform: uppercase;
    }

    .product-price {
        font-weight: bold;
    }

    .product-discount {
        color: red;
        font-weight: bold;
    }
</style>

<h1>Product</h1>

<p>
    <a class="btn btn-primary" asp-action="Create">Create </a>
</p>

<table class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Available Quantity</th>
            <th>Status</th>
            <th>Supplier</th>
            <th>Description</th>
            <th>Category</th>
            <th>Brand</th>
            <th>Image</th>
            <th>Discount</th>
            <th>Created Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            @foreach (var item in Model)
            {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => item.Name)</td>
                            <td><span class="product-price">@Html.DisplayFor(modelItem => item.Price)</span></td>
                            <td>@Html.DisplayFor(modelItem => item.AvailableQuantity)</td>
                            <td><span class="product-status">@Html.DisplayFor(modelItem => item.Status)</span></td>
                            <td>@Html.DisplayFor(modelItem => item.Supplier)</td>
                            <td>@Html.DisplayFor(modelItem => item.Description)</td>
                            <td>@Html.DisplayFor(modelItem => item.Category)</td>
                            <td>@Html.DisplayFor(modelItem => item.Brand)</td>
                                    <td>
                        @if (System.IO.Path.GetExtension(item.ImageUrl) == ".jpg" ||
                      System.IO.Path.GetExtension(item.ImageUrl) == ".png" ||
                      System.IO.Path.GetExtension(item.ImageUrl) == ".jpeg" ||
                      System.IO.Path.GetExtension(item.ImageUrl) == ".tiff" ||
                      System.IO.Path.GetExtension(item.ImageUrl) == ".gif")
                        {
                                    <img src="/img/@item.ImageUrl" height="100">
                        }
                        else
                        {
                                    <span>Ảnh lỗi rồi =)))</span>                       
                        }

                        </td>
                            <td><span class="product-discount">@Html.DisplayFor(modelItem => item.Discount)</span></td>
                            <td>@Html.DisplayFor(modelItem => item.CreatedDate)</td>
                            <td>
                                <div class="btn-group">
                                    <a class="btn btn-outline-primary" asp-action="Edit" asp-route-id="@item.ID">Edit</a>
                                    <a class="btn btn-outline-info" asp-action="Details" asp-route-id="@item.ID">Details</a>
                                    <a class="btn btn-outline-danger" asp-action="Delete" asp-route-id="@item.ID" onclick="return confirm('Are you sure you want to delete this item?')">Delete</a>
                                </div>
                            </td>
                        </tr>
            }
        }
    </tbody>
</table>
